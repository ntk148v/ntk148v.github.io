<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Author: Kien Nguyen <kiennt2609@gmail.com>
      A minimal Hugo theme with Tailwind CSS"><title>kiennt26's home
| Golang Async
</title><meta name=author content="map[email:kiennt2609@gmail.com name:Kien Nguyen-Tuan]"><meta name=description content><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon_io/favicon.ico type=image/x-icon><link rel=icon href=/favicon_io/favicon-16x16.png size=16x16 type=image/png><link rel=icon href=/favicon_io/favicon-32x32.png size=32x32 type=image/png><link rel=preload type=text/css href=/css/rose-pine.min.css integrity as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet type=text/css href=/css/rose-pine.min.css integrity></noscript><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Overpass+Mono:wght@400;500;700&family=Overpass:wght@400;500;700&display=swap" rel=stylesheet><link rel=preload type=text/css href="/css/toigian.min.c2d412fa9d783008621ed5702bba8f6e06deae862875592a7f6ffc928110308a.css" integrity="sha256-wtQS+p14MAhiHtVwK7qPbgberoYodVkqf2/8koEQMIo=" as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet type=text/css href="/css/toigian.min.c2d412fa9d783008621ed5702bba8f6e06deae862875592a7f6ffc928110308a.css" integrity="sha256-wtQS+p14MAhiHtVwK7qPbgberoYodVkqf2/8koEQMIo="></noscript><link rel=stylesheet type=text/css href="/css/light.min.29febe5c26ca625f7e2913e2509889a65637f415171eb003603102dea7cc42e0.css" integrity="sha256-Kf6+XCbKYl9+KRPiUJiJplY39BUXHrADYDEC3qfMQuA="><link rel=stylesheet type=text/css href="/css/dark.min.47fea451289f4f246c4875ba0aa5f6376183f220c766f5e90d15d6e48cb7b937.css" integrity="sha256-R/6kUSifTyRsSHW6CqX2N2GD8iDHZvXpDRXW5Iy3uTc="><script>localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script><script async defer src=/js/main.dfa968b06ebe7fb755eb156f7296445f20bd5ca0c82aa2eb755b1bfac4e2f294676471cf7670590073c364901a0dd5dc4b4c7b83f7a4a3c3b081f085c78fa1de.js integrity="sha512-36losG6+f7dV6xVvcpZEXyC9XKDIKqLrdVsb+sTi8pRnZHHPdnBZAHPDZJAaDdXcS0x7g/eko8OwgfCFx4+h3g=="></script><script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0,securityLevel:"loose"})</script></head><body><header style=--layer:10><div aria-hidden=true class="absolute top-[-1000px] left-0 z-[calc(var(--layer)+1)] h-[calc(1000px+var(--page-top))] w-full bg-base"></div><div class="fixed top-0 left-0 z-[var(--layer)] flex h-header-height w-full items-center border-b px-page-gutter before:absolute before:inset-0 before:z-[-1] before:bg-base [@supports(backdrop-filter:blur(0))]:before:bg-base [@supports(backdrop-filter:blur(0))]:before:backdrop-blur-md"><div class="lowercase italic mx-auto flex w-full max-w-content items-center justify-between"><nav><ol class="flex text-md items-center"><li><a href=/ class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">kiennt26's home</a></li><li class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">/</li><li><a href=/posts/ class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">Posts</a></li><li class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">/</li><li><a href=/posts/golang-async/ class="focus:underline focus:outline-none font-bold after:md:mx-2 after:mx-0.5">Golang Async</a></li></ol></nav><nav><a href=https://ntk148v.github.io//index.xml><svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 19.5v-.75a7.5 7.5.0 00-7.5-7.5H4.5m0-6.75h.75c7.87.0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75.0 11-1.5.0.75.75.0 011.5.0z"/></svg></a></nav></div></div></header><main class="flex justify-center px-page-gutter py-page-top"><div class="min-h-content w-full max-w-content space-y-10 sm:space-y-20"><div class="lowercase italic mx-auto flex w-full max-w-content items-center justify-between"><nav><ol class="flex text-md items-center"><li><a href=/ class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">kiennt26's home</a></li><li class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">/</li><li><a href=/posts/ class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">Posts</a></li><li class="text-muted focus:underline focus:outline-none after:md:mx-2 after:mx-0.5">/</li><li><a href=/posts/golang-async/ class="focus:underline focus:outline-none font-bold after:md:mx-2 after:mx-0.5">Golang Async</a></li></ol></nav><nav><a href=https://ntk148v.github.io//index.xml><svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 19.5v-.75a7.5 7.5.0 00-7.5-7.5H4.5m0-6.75h.75c7.87.0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75.0 11-1.5.0.75.75.0 011.5.0z"/></svg></a></nav></div><article><h1>Golang Async</h1><time class="text-sm italic tabular-nums text-muted">2023/07/21&nbsp;</time>
<nobr class="text-sm text-muted">&#8674&nbsp;</nobr><time class="text-sm italic tabular-nums text-muted">2023/07/21&nbsp;</time><div class=section><a href=/tags/tech/ id=tag>Tech</a>
<a href=/tags/golang/ id=tag>Golang</a></div><div id=toc></div><div class=content><blockquote class="my-5 p-4 rounded border-solid border-2 border-iris"><p>This article is Golang version of <a href=https://learn.microsoft.com/en-us/dotnet/csharp/asynchronous-programming/>Asynchronous programming with async and await guideline</a>. They did really good job to demonstrate how asynchronous programming looks like.</p><p>You can find source code <a href=https://github.com/ntk148v/testing/tree/master/golang/breakfast>here</a>.</p></blockquote><p>Throughout this article, we&rsquo;ll write the instructions to make a breakfast.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1. Pour a cup of coffee.
</span></span><span class=line><span class=cl>2. Heat a pan, then fry two eggs.
</span></span><span class=line><span class=cl>3. Fry three slices of bacon.
</span></span><span class=line><span class=cl>4. Toast two pieces of bread.
</span></span><span class=line><span class=cl>5. Add butter and jam to the toast.
</span></span><span class=line><span class=cl>6. Pour a glass of orange juice.
</span></span></code></pre></div><p>Each step takes time to finish, for example, you have to wait X seconds to make a glass of orange juice. Let&rsquo;s write those instructions as Golang:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>	<span class=s>&#34;time&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// These structs intentionally empty for the purpose of this example.
</span></span></span><span class=line><span class=cl><span class=c1>// They are simply marker classes for the purpose of demonstration, contain no properties, and serve no other purpose.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Bacon</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>fried</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Coffee</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>poured</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Egg</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>fried</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Juice</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>poured</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Toast</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>toasted</span><span class=p>,</span> <span class=nx>butter</span><span class=p>,</span> <span class=nx>jam</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>pourOJ</span><span class=p>()</span> <span class=o>*</span><span class=nx>Juice</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Pouring orange juice&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Juice</span><span class=p>{</span><span class=nx>poured</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>applyJam</span><span class=p>(</span><span class=nx>toast</span> <span class=o>*</span><span class=nx>Toast</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Putting jam on the toast&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>toast</span><span class=p>.</span><span class=nx>jam</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>applyButter</span><span class=p>(</span><span class=nx>toast</span> <span class=o>*</span><span class=nx>Toast</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Putting butter on the toast&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>toast</span><span class=p>.</span><span class=nx>butter</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>toastBread</span><span class=p>(</span><span class=nx>slices</span> <span class=kt>int</span><span class=p>)</span> <span class=o>*</span><span class=nx>Toast</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>slice</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>slice</span> <span class=p>&lt;</span> <span class=nx>slices</span><span class=p>;</span> <span class=nx>slice</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Putting a slices of bread in the toaster&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Start toasting...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span> <span class=o>*</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Toast</span><span class=p>{</span><span class=nx>toasted</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>fryBacon</span><span class=p>(</span><span class=nx>slices</span> <span class=kt>int</span><span class=p>)</span> <span class=o>*</span><span class=nx>Bacon</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Putting %d slices of bacon in the pan\n&#34;</span><span class=p>,</span> <span class=nx>slices</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Cooking first side of bacon...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=mi>3</span> <span class=o>*</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>slice</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>slice</span> <span class=p>&lt;</span> <span class=nx>slices</span><span class=p>;</span> <span class=nx>slice</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Flipping a slice of bacon&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Cooking the second side of bacon...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=mi>3</span> <span class=o>*</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Put bacon on plate&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Bacon</span><span class=p>{</span><span class=nx>fried</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>fryEggs</span><span class=p>(</span><span class=nx>howMany</span> <span class=kt>int</span><span class=p>)</span> <span class=o>*</span><span class=nx>Egg</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Warming the egg pan...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=mi>3</span> <span class=o>*</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Cracking %d eggs\n&#34;</span><span class=p>,</span> <span class=nx>howMany</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=mi>3</span> <span class=o>*</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Put eggs on plate&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Egg</span><span class=p>{</span><span class=nx>fried</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>pourCoffee</span><span class=p>()</span> <span class=o>*</span><span class=nx>Coffee</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Pouring coffee&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Coffee</span><span class=p>{</span><span class=nx>poured</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>start</span> <span class=o>:=</span> <span class=nx>time</span><span class=p>.</span><span class=nf>Now</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=nx>cup</span> <span class=o>:=</span> <span class=nf>pourCoffee</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Coffee is ready:&#34;</span><span class=p>,</span> <span class=nx>cup</span><span class=p>.</span><span class=nx>poured</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>egg</span> <span class=o>:=</span> <span class=nf>fryEggs</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Eggs are ready:&#34;</span><span class=p>,</span> <span class=nx>egg</span><span class=p>.</span><span class=nx>fried</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>bacon</span> <span class=o>:=</span> <span class=nf>fryBacon</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Bacon is ready:&#34;</span><span class=p>,</span> <span class=nx>bacon</span><span class=p>.</span><span class=nx>fried</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>toast</span> <span class=o>:=</span> <span class=nf>toastBread</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nf>applyButter</span><span class=p>(</span><span class=nx>toast</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nf>applyJam</span><span class=p>(</span><span class=nx>toast</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Toast is ready:&#34;</span><span class=p>,</span> <span class=nx>toast</span><span class=p>.</span><span class=nx>toasted</span> <span class=o>&amp;&amp;</span> <span class=nx>toast</span><span class=p>.</span><span class=nx>butter</span> <span class=o>&amp;&amp;</span> <span class=nx>toast</span><span class=p>.</span><span class=nx>jam</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>oj</span> <span class=o>:=</span> <span class=nf>pourOJ</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Orange juice is ready:&#34;</span><span class=p>,</span> <span class=nx>oj</span><span class=p>.</span><span class=nx>poured</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;* Breakfast is ready, it took %s\n&#34;</span><span class=p>,</span> <span class=nx>time</span><span class=p>.</span><span class=nf>Since</span><span class=p>(</span><span class=nx>start</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p><img src=https://learn.microsoft.com/en-us/dotnet/csharp/asynchronous-programming/media/synchronous-breakfast.png alt></p><p>Cook it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ go run ./main.go
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Pouring coffee
</span></span><span class=line><span class=cl>* Coffee is ready: <span class=nb>true</span>
</span></span><span class=line><span class=cl>Warming the egg pan...
</span></span><span class=line><span class=cl>Cracking <span class=m>2</span> eggs
</span></span><span class=line><span class=cl>Put eggs on plate
</span></span><span class=line><span class=cl>* Eggs are ready: <span class=nb>true</span>
</span></span><span class=line><span class=cl>Putting <span class=m>3</span> slices of bacon in the pan
</span></span><span class=line><span class=cl>Cooking first side of bacon...
</span></span><span class=line><span class=cl>Flipping a slice of bacon
</span></span><span class=line><span class=cl>Flipping a slice of bacon
</span></span><span class=line><span class=cl>Flipping a slice of bacon
</span></span><span class=line><span class=cl>Cooking the second side of bacon...
</span></span><span class=line><span class=cl>Put bacon on plate
</span></span><span class=line><span class=cl>* Bacon is ready: <span class=nb>true</span>
</span></span><span class=line><span class=cl>Putting a slices of bread in the toaster
</span></span><span class=line><span class=cl>Putting a slices of bread in the toaster
</span></span><span class=line><span class=cl>Start toasting...
</span></span><span class=line><span class=cl>Putting butter on the toast
</span></span><span class=line><span class=cl>Putting jam on the toast
</span></span><span class=line><span class=cl>* Toast is ready: <span class=nb>true</span>
</span></span><span class=line><span class=cl>Pouring orange juice
</span></span><span class=line><span class=cl>* Orange juice is ready: <span class=nb>true</span>
</span></span><span class=line><span class=cl>* Breakfast is ready, it took 19.006261366s
</span></span></code></pre></div><p>We call this one is the <strong>synchronous-breakfast</strong> version. It took roughly 19 seconds (yeah, I known, no one can cook the breakfast in 19 seconds in the real life. But I can&rsquo;t wait for 30 minutes) because the total is the sum of each task.</p><p>The computer will block on each statement until the work is complete before moving on to the next statement. That creates an unsatisfying breakfast. The later tasks wouldn&rsquo;t be started until the earlier tasks had been completed. It would take much longer to create the breakfast, and some items would have gotten cold before being served.</p><p>If you have experience with cooking, that isn&rsquo;t how we cook. Those instructions should be executed <strong>asynchronously</strong>. You&rsquo;d start warming the pan for eggs, then start the bacon. You&rsquo;d put the bread in the toaster, then start the eggs. At each step of the process, you&rsquo;d start a task, then turn your attention to tasks that are ready for your attention.</p><p>Cooking breakfast is a good example of asynchronous work that isn&rsquo;t parallel. One person (or thread/goroutine) can handle all these tasks. Continuing the breakfast analogy, one person can make breakfast asynchronously by starting the next task before the first task completes. For a parallel, you&rsquo;d need multiple cooks (or threads). One would make the eggs, one the bacon, and so on. Each one would be focused on just that one task.</p><blockquote class="my-5 p-4 rounded border-solid border-2 border-foam">To clear up the conflation between <em>concurrency (asynchronous)</em> and <em>parallel</em>, you should check out <a href=https://go.dev/blog/waza-talk>Rob Pike&rsquo;s talk - Concurrency is not parallelism</a>.</blockquote><p>We need an <strong>asynchronous-breakfast</strong>, but you should know about <strong>Goroutine</strong> before we start. A <em>goroutine</em> is a lightweight thread of execution. The following example is taken from <a href=https://gobyexample.com/goroutines>gobyexample</a>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;time&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>f</span><span class=p>(</span><span class=nx>from</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>from</span><span class=p>,</span> <span class=s>&#34;:&#34;</span><span class=p>,</span> <span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Suppose we have a function call f(s).
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// Here’s how we’d call that in the usual way, running it synchronously.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nf>f</span><span class=p>(</span><span class=s>&#34;direct&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// To invoke this function in a goroutine, use go f(s).
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// This new goroutine will execute concurrently with the calling one.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>go</span> <span class=nf>f</span><span class=p>(</span><span class=s>&#34;goroutine&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// You can also start a goroutine for an anonymous function call.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>go</span> <span class=kd>func</span><span class=p>(</span><span class=nx>msg</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>msg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}(</span><span class=s>&#34;going&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Our two function calls are running asynchronously in separate goroutines now.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;done&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>What do we do now? <em>Put each step in a separate goroutine!</em>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>	<span class=s>&#34;time&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// These structs intentionally empty for the purpose of this example.
</span></span></span><span class=line><span class=cl><span class=c1>// They are simply marker classes for the purpose of demonstration, contain no properties, and serve no other purpose.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Bacon</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>fried</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Coffee</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>poured</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Egg</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>fried</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Juice</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>poured</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Toast</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>toasted</span><span class=p>,</span> <span class=nx>butter</span><span class=p>,</span> <span class=nx>jam</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>pourOJ</span><span class=p>()</span> <span class=o>*</span><span class=nx>Juice</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Pouring orange juice&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Juice</span><span class=p>{</span><span class=nx>poured</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>applyJam</span><span class=p>(</span><span class=nx>toast</span> <span class=o>*</span><span class=nx>Toast</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Putting jam on the toast&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>toast</span><span class=p>.</span><span class=nx>jam</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>applyButter</span><span class=p>(</span><span class=nx>toast</span> <span class=o>*</span><span class=nx>Toast</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Putting butter on the toast&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>toast</span><span class=p>.</span><span class=nx>butter</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>toastBread</span><span class=p>(</span><span class=nx>slices</span> <span class=kt>int</span><span class=p>)</span> <span class=o>*</span><span class=nx>Toast</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>slice</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>slice</span> <span class=p>&lt;</span> <span class=nx>slices</span><span class=p>;</span> <span class=nx>slice</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Putting a slices of bread in the toaster&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Start toasting...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span> <span class=o>*</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Toast</span><span class=p>{</span><span class=nx>toasted</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>fryBacon</span><span class=p>(</span><span class=nx>slices</span> <span class=kt>int</span><span class=p>)</span> <span class=o>*</span><span class=nx>Bacon</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Putting %d slices of bacon in the pan\n&#34;</span><span class=p>,</span> <span class=nx>slices</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Cooking first side of bacon...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=mi>3</span> <span class=o>*</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>slice</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>slice</span> <span class=p>&lt;</span> <span class=nx>slices</span><span class=p>;</span> <span class=nx>slice</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Flipping a slice of bacon&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Cooking the second side of bacon...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=mi>3</span> <span class=o>*</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Put bacon on plate&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Bacon</span><span class=p>{</span><span class=nx>fried</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>fryEggs</span><span class=p>(</span><span class=nx>howMany</span> <span class=kt>int</span><span class=p>)</span> <span class=o>*</span><span class=nx>Egg</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Warming the egg pan...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=mi>3</span> <span class=o>*</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Cracking %d eggs\n&#34;</span><span class=p>,</span> <span class=nx>howMany</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=mi>3</span> <span class=o>*</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Put eggs on plate&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Egg</span><span class=p>{</span><span class=nx>fried</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>pourCoffee</span><span class=p>()</span> <span class=o>*</span><span class=nx>Coffee</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Pouring coffee&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Coffee</span><span class=p>{</span><span class=nx>poured</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>start</span> <span class=o>:=</span> <span class=nx>time</span><span class=p>.</span><span class=nf>Now</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>go</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>cup</span> <span class=o>:=</span> <span class=nf>pourCoffee</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Coffee is ready:&#34;</span><span class=p>,</span> <span class=nx>cup</span><span class=p>.</span><span class=nx>poured</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>go</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>egg</span> <span class=o>:=</span> <span class=nf>fryEggs</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Eggs are ready:&#34;</span><span class=p>,</span> <span class=nx>egg</span><span class=p>.</span><span class=nx>fried</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>go</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>bacon</span> <span class=o>:=</span> <span class=nf>fryBacon</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Bacon is ready:&#34;</span><span class=p>,</span> <span class=nx>bacon</span><span class=p>.</span><span class=nx>fried</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>go</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>toast</span> <span class=o>:=</span> <span class=nf>toastBread</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=nf>applyButter</span><span class=p>(</span><span class=nx>toast</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=nf>applyJam</span><span class=p>(</span><span class=nx>toast</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Toast is ready:&#34;</span><span class=p>,</span> <span class=nx>toast</span><span class=p>.</span><span class=nx>toasted</span> <span class=o>&amp;&amp;</span> <span class=nx>toast</span><span class=p>.</span><span class=nx>butter</span> <span class=o>&amp;&amp;</span> <span class=nx>toast</span><span class=p>.</span><span class=nx>jam</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>go</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>oj</span> <span class=o>:=</span> <span class=nf>pourOJ</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Orange juice is ready:&#34;</span><span class=p>,</span> <span class=nx>oj</span><span class=p>.</span><span class=nx>poured</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=p>}()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;* Breakfast is ready, it took %s\n&#34;</span><span class=p>,</span> <span class=nx>time</span><span class=p>.</span><span class=nf>Since</span><span class=p>(</span><span class=nx>start</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ go run ./main.go
</span></span><span class=line><span class=cl>* Breakfast is ready, it took 5.727µs
</span></span></code></pre></div><p>Oh no, something went wrong here! Nothing was done, we didn&rsquo;t get a breakfast because the program didn&rsquo;t wait for goroutines to finish. To solve this problem, we can use a <a href=https://gobyexample.com/waitgroups>sync.WaitGroup</a>. The WaitGroup is used to wait for all the goroutines launched to finish.</p><p>Modify the code and we have a new <strong>asynchronous-breakfast</strong> version:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>	<span class=s>&#34;sync&#34;</span>
</span></span><span class=line><span class=cl>	<span class=s>&#34;time&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// These structs intentionally empty for the purpose of this example.
</span></span></span><span class=line><span class=cl><span class=c1>// They are simply marker classes for the purpose of demonstration, contain no properties, and serve no other purpose.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Bacon</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>fried</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Coffee</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>poured</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Egg</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>fried</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Juice</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>poured</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Toast</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>toasted</span><span class=p>,</span> <span class=nx>butter</span><span class=p>,</span> <span class=nx>jam</span> <span class=kt>bool</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>pourOJ</span><span class=p>()</span> <span class=o>*</span><span class=nx>Juice</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Pouring orange juice&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Juice</span><span class=p>{</span><span class=nx>poured</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>applyJam</span><span class=p>(</span><span class=nx>toast</span> <span class=o>*</span><span class=nx>Toast</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Putting jam on the toast&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>toast</span><span class=p>.</span><span class=nx>jam</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>applyButter</span><span class=p>(</span><span class=nx>toast</span> <span class=o>*</span><span class=nx>Toast</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Putting butter on the toast&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>toast</span><span class=p>.</span><span class=nx>butter</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>toastBread</span><span class=p>(</span><span class=nx>slices</span> <span class=kt>int</span><span class=p>)</span> <span class=o>*</span><span class=nx>Toast</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>slice</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>slice</span> <span class=p>&lt;</span> <span class=nx>slices</span><span class=p>;</span> <span class=nx>slice</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Putting a slices of bread in the toaster&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Start toasting...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span> <span class=o>*</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Toast</span><span class=p>{</span><span class=nx>toasted</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>fryBacon</span><span class=p>(</span><span class=nx>slices</span> <span class=kt>int</span><span class=p>)</span> <span class=o>*</span><span class=nx>Bacon</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Putting %d slices of bacon in the pan\n&#34;</span><span class=p>,</span> <span class=nx>slices</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Cooking first side of bacon...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=mi>3</span> <span class=o>*</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>slice</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>slice</span> <span class=p>&lt;</span> <span class=nx>slices</span><span class=p>;</span> <span class=nx>slice</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Flipping a slice of bacon&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Cooking the second side of bacon...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=mi>3</span> <span class=o>*</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Put bacon on plate&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Bacon</span><span class=p>{</span><span class=nx>fried</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>fryEggs</span><span class=p>(</span><span class=nx>howMany</span> <span class=kt>int</span><span class=p>)</span> <span class=o>*</span><span class=nx>Egg</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Warming the egg pan...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=mi>3</span> <span class=o>*</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Cracking %d eggs\n&#34;</span><span class=p>,</span> <span class=nx>howMany</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=mi>3</span> <span class=o>*</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Put eggs on plate&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Egg</span><span class=p>{</span><span class=nx>fried</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>pourCoffee</span><span class=p>()</span> <span class=o>*</span><span class=nx>Coffee</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Pouring coffee&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=o>&amp;</span><span class=nx>Coffee</span><span class=p>{</span><span class=nx>poured</span><span class=p>:</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>start</span> <span class=o>:=</span> <span class=nx>time</span><span class=p>.</span><span class=nf>Now</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=kd>var</span> <span class=nx>wg</span> <span class=nx>sync</span><span class=p>.</span><span class=nx>WaitGroup</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>wg</span><span class=p>.</span><span class=nf>Add</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>go</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>defer</span> <span class=nx>wg</span><span class=p>.</span><span class=nf>Done</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=nx>cup</span> <span class=o>:=</span> <span class=nf>pourCoffee</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Coffee is ready:&#34;</span><span class=p>,</span> <span class=nx>cup</span><span class=p>.</span><span class=nx>poured</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>wg</span><span class=p>.</span><span class=nf>Add</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>go</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>defer</span> <span class=nx>wg</span><span class=p>.</span><span class=nf>Done</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=nx>egg</span> <span class=o>:=</span> <span class=nf>fryEggs</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Eggs are ready:&#34;</span><span class=p>,</span> <span class=nx>egg</span><span class=p>.</span><span class=nx>fried</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>wg</span><span class=p>.</span><span class=nf>Add</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>go</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>defer</span> <span class=nx>wg</span><span class=p>.</span><span class=nf>Done</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=nx>bacon</span> <span class=o>:=</span> <span class=nf>fryBacon</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Bacon is ready:&#34;</span><span class=p>,</span> <span class=nx>bacon</span><span class=p>.</span><span class=nx>fried</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>wg</span><span class=p>.</span><span class=nf>Add</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>go</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>defer</span> <span class=nx>wg</span><span class=p>.</span><span class=nf>Done</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=nx>toast</span> <span class=o>:=</span> <span class=nf>toastBread</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=nf>applyButter</span><span class=p>(</span><span class=nx>toast</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=nf>applyJam</span><span class=p>(</span><span class=nx>toast</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Toast is ready:&#34;</span><span class=p>,</span> <span class=nx>toast</span><span class=p>.</span><span class=nx>toasted</span> <span class=o>&amp;&amp;</span> <span class=nx>toast</span><span class=p>.</span><span class=nx>butter</span> <span class=o>&amp;&amp;</span> <span class=nx>toast</span><span class=p>.</span><span class=nx>jam</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>wg</span><span class=p>.</span><span class=nf>Add</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>go</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>defer</span> <span class=nx>wg</span><span class=p>.</span><span class=nf>Done</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=nx>oj</span> <span class=o>:=</span> <span class=nf>pourOJ</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;* Orange juice is ready:&#34;</span><span class=p>,</span> <span class=nx>oj</span><span class=p>.</span><span class=nx>poured</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=p>}()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Wait for all things be done
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>wg</span><span class=p>.</span><span class=nf>Wait</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;* Breakfast is ready, it took %s\n&#34;</span><span class=p>,</span> <span class=nx>time</span><span class=p>.</span><span class=nf>Since</span><span class=p>(</span><span class=nx>start</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ go run ./main.go
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Pouring orange juice
</span></span><span class=line><span class=cl>Pouring coffee
</span></span><span class=line><span class=cl>Warming the egg pan...
</span></span><span class=line><span class=cl>Putting <span class=m>3</span> slices of bacon in the pan
</span></span><span class=line><span class=cl>Cooking first side of bacon...
</span></span><span class=line><span class=cl>Putting a slices of bread in the toaster
</span></span><span class=line><span class=cl>Putting a slices of bread in the toaster
</span></span><span class=line><span class=cl>Start toasting...
</span></span><span class=line><span class=cl>* Orange juice is ready: <span class=nb>true</span>
</span></span><span class=line><span class=cl>* Coffee is ready: <span class=nb>true</span>
</span></span><span class=line><span class=cl>Putting butter on the toast
</span></span><span class=line><span class=cl>Cracking <span class=m>2</span> eggs
</span></span><span class=line><span class=cl>Flipping a slice of bacon
</span></span><span class=line><span class=cl>Flipping a slice of bacon
</span></span><span class=line><span class=cl>Flipping a slice of bacon
</span></span><span class=line><span class=cl>Cooking the second side of bacon...
</span></span><span class=line><span class=cl>Putting jam on the toast
</span></span><span class=line><span class=cl>* Toast is ready: <span class=nb>true</span>
</span></span><span class=line><span class=cl>Put bacon on plate
</span></span><span class=line><span class=cl>* Bacon is ready: <span class=nb>true</span>
</span></span><span class=line><span class=cl>Put eggs on plate
</span></span><span class=line><span class=cl>* Eggs are ready: <span class=nb>true</span>
</span></span><span class=line><span class=cl>* Breakfast is ready, it took 6.00254463s
</span></span></code></pre></div><p><img src=https://learn.microsoft.com/en-us/dotnet/csharp/asynchronous-programming/media/whenany-async-breakfast.png alt></p><p>Breakfast is ready after roughly 6 seconds. Compare to the previous result, it&rsquo;s a huge improvement. The instructions are a bit mess, indicating that the steps were performed concurrency.</p><iframe src=https://giphy.com/embed/yJFeycRK2DB4c width=480 height=384 frameborder=0 class=giphy-embed allowfullscreen></iframe><p><a href=https://giphy.com/gifs/yJFeycRK2DB4c>via GIPHY</a></p><p>Enjoy your breakfast!</p></div><div class=mt-16><script src=https://giscus.app/client.js data-repo=ntk148v/ntk148v.github.io data-repo-id=R_kgDOIWtaXA data-category="Show and tell" data-category-id=DIC_kwDOIWtaXM4CSU-P data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=en crossorigin=anonymous async></script></div></article></div></main><footer class="fixed left-0 bottom-0 w-full bg-base px-page-gutter"><div class="flex justify-center items-center h-footer-height"><div class="flex flex-row w-full max-w-content justify-between lowercase italic gap-3"><nav><ul class="flex text-md space-x-3 sm:space-x-6"><li class=text-text><a href=/contact class="tracking-wide hover:underline">Contact</a></li><li class=text-text><a href=/posts class="tracking-wide hover:underline">Posts</a></li></ul></nav><span class="text-muted hidden md:block">&copy;
2024
<a href=https://github.com/ntk148v/hugo-toigian class="font-bold hover:underline">hugo-toigian</a></span><div id=header-theme-button><svg id="dark_mode_btn" class="hidden toolbox-btn" width="18" height="18" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718.0 0118 15.75c-5.385.0-9.75-4.365-9.75-9.75.0-1.33.266-2.597.748-3.752A9.753 9.753.0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753.0 009.002-5.998z"/></svg><svg id="light_mode_btn" class="hidden toolbox-btn" width="18" height="18" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75.0 11-7.5.0 3.75 3.75.0 017.5.0z"/></svg></div></div></div></footer></body></html>